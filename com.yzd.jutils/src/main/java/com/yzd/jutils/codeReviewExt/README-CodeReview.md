
### [Code Review-代码审查（Review）之我见](https://blog.csdn.net/u013315650/article/details/84035431 )
```
作为一个服务器开发人员，目前我在负责现场问题处理，但是处理的问题多了，有了一些自己的思考。在处理过的问题中，有很多问题是比较低级的问题，比如判断没有else处理，内存泄漏等，还有一些问题是现场出问题后日志信息不够，无法得到有效的定位问题信息，当然还有一些其他问题。导致这些问题的原因有很多，或许是因为编码者的能力不一，也可能是局限于自己的主观性，无法排除问题。
作为一个服务器开发人员，经常需要处理现场发现的问题，这些问题经常很难定位，但定位的多了就有了一些自己的思考。笔者发现其实有很多问题是比较低级的问题，比如判断没有else处理，内存泄漏等，还有一些问题是现场出问题后日志信息不够，无法得到有效的定位问题信息导致最后无法定位，当然还有一些其他因素。导致这些问题的原因有很多，或许是因为编码者的能力不一，也可能是局限于开发者自己的主观性，无法排除问题。但其实以上问题其实可以通过代码编写结束后的代码review进行有效排除。

笔者在网上找了一些关于代码review的资料，发现自己对一下两点有误解：

Code review不应该承担发现代码错误的职责
Code Review主要是审核代码的质量，如可读性，可维护性，以及程序的逻辑和对需求和设计的实现。代码Bug应该由各种测试去保证。

Code Review不应该成为保证代码风格和编码标准的手段
程序员在提交代码Code Review时应该保证自己的代码是符合编程标准的，如果只是一味的去审核代码的风格，对于大家的时间是浪费。

 

Code Review清单
设计常规项
遇到分支处理的时候是否考虑闭环全面考虑
扩展性是否考虑
是否存在安全漏洞
编码常规项
代码是否内存泄漏，是否性能低下，是否会形成crash
各种异常逻辑是否处理
代码能够工作么？它有没有实现预期的功能，逻辑是否正确等
所有的代码是否简单易懂？
代码符合你所遵循的编程规范么？这通常包括大括号的位置，变量名和函数名，行的长度，缩进，格式和注释
是否存在多余的或是重复的代码
代码是否尽可能的模块化了
是否有可以被替换的全局变量
是否有被注释掉的代码
循环是否设置了长度和正确的终止条件
是否有可以被库函数替代的代码
是否有可以删除的日志或调试代码
安全
是否有注释，并且描述了代码的意图
所有的函数都有注释吗
对非常规行为和边界情况处理是否有描述
第三方库的使用和函数是否有文档
数据结构和计量单位是否进行了解释
是否有未完成的代码？如果是的话，是不是应该移除，或者用合适的标记进行标记比如‘TODO’
测试
代码是否可以测试？比如，不要添加太多的或是隐藏的依赖关系，不能够初始化对象，测试框架可以使用方法等
是否存在测试，它们是否可以被理解？比如，至少达到你满意的代码覆盖(code coverage)
单元测试是否真正的测试了代码是否可以完成预期的功能
是否检查了数组的“越界“错误
是否有可以被已经存在的API所替代的测试代码
经验
日志是否可以将必要的信息打印出来
日志是否可以得反映代码分支的走向
结构体是否字节对其
使用被初始化为NULL的变量之前是否判空
--------------------- 

```